<!DOCTYPE html>
<html lang="fr">

<head>
	<meta charset="UTF-8">
	<title>Based.meme - Into the Abyss</title>
	<link rel="stylesheet" href="styles.css?v=<?= time() ?>">
	<link href="https://fonts.googleapis.com/css2?family=VT323&family=Roboto:wght@400;700&family=Permanent+Marker&display=swap" rel="stylesheet">
	<script src="theme.js"></script>
</head>

<body>
	<header>
		<div class="logo">
			<a href="index.html">
				<h1 class="glitch" data-text="Based.meme">Based.meme</h1>
			</a>
		</div>
		<nav>
			<button id="themeToggle">üåô</button>
			<a href="login.html" class="btn btn-login">Login</a>
			<a href="signup.html" class="btn btn-signup">Sign Up</a>
		</nav>
	</header>
	<main class="main-aby">
		<section class="sec-aby">
			<div class="title-aby">
				<h2 class="tagline">Into the Abyss</h2>
				<p class="subtitle">Into the Abyss allows you to search for memes</p>
			</div>
			<div class="formulaire-aby">
				<br>
				<form class="formabyss" action="search.php" method="GET">
					<div class="user-insert">
						<div class="auth-form">
							<br>
							<label for="meme_id">MEME ID</label>
							<input type="text" id="meme_id" name="meme_id" value="<?= htmlspecialchars(
					$meme_id
				) ?>"><br><br>
						</div>
						<div class="meme-tag-container">
							<p>TAGS
							<p>
							<div class="tag-container">
								<input type="checkbox" name="tags[]" value="dank" id="tag-dank"><label for="tag-dank">dank</label>
								<input type="checkbox" name="tags[]" value="cursed" id="tag-cursed"><label for="tag-cursed">cursed</label>
								<input type="checkbox" name="tags[]" value="pov" id="tag-pov"><label for="tag-pov">pov</label>
								<input type="checkbox" name="tags[]" value="nocap" id="tag-nocap"><label for="tag-nocap">no cap fr fr</label>
								<input type="checkbox" name="tags[]" value="rizz" id="tag-rizz"><label for="tag-rizz">rizz</label>
								<input type="checkbox" name="tags[]" value="sigma" id="tag-sigma"><label for="tag-sigma">sigma</label>
								<input type="checkbox" name="tags[]" value="goofy-ahh" id="tag-goofy-ahh"><label for="tag-goofy-ahh">goofy-ahh</label>
								<input type="checkbox" name="tags[]" value="touchgrass" id="tag-touchgrass"><label for="tag-touchgrass">touch grass</label>
								<input type="checkbox" name="tags[]" value="gyatt" id="tag-gyatt"><label for="tag-gyatt">gyatt</label>
								<input type="checkbox" name="tags[]" value="sus" id="tag-sus"><label for="tag-sus">sus</label>
								<input type="checkbox" name="tags[]" value="mid" id="tag-mid"><label for="tag-mid">mid</label>
								<input type="checkbox" name="tags[]" value="relatable" id="tag-relatable"><label for="tag-relatable">relatable</label>
								<input type="checkbox" name="tags[]" value="cringe" id="tag-cringe"><label for="tag-cringe">cringe</label>
								<input type="checkbox" name="tags[]" value="shitpost" id="tag-shitpost"><label for="tag-shitpost">shitpost</label>
								<input type="checkbox" name="tags[]" value="edgy" id="tag-edgy"><label for="tag-edgy">edgy</label>
								<input type="checkbox" name="tags[]" value="deep-fried" id="tag-deep-fried"><label for="tag-deep-fried">deep-fried</label>
								<input type="checkbox" name="tags[]" value="npc" id="tag-npc"><label for="tag-npc">npc</label>
								<input type="checkbox" name="tags[]" value="dead" id="tag-dead"><label for="tag-dead">üíÄ</label>
								<input type="checkbox" name="tags[]" value="skibidi" id="tag-skibidi"><label for="tag-skibidi">skibidi</label>
								<input type="checkbox" name="tags[]" value="toilet" id="tag-toilet"><label for="tag-toilet">toilet</label>
							</div>
						</div>
					</div>
					<button type="submit" class="btn-aby">Find</button>
				</form>
			</div>
		</section>
		<div class="result-grid">
			<div class="result-id"> <?php if (!empty($_GET)): ?> <?php if (!empty($memes_by_id)): ?> <section class="results">
					<h2>üìÑ R√©sultats pour Meme ID: <?= htmlspecialchars(
					$meme_id
				) ?></h2>
					<br>
					<ul> <?php foreach ($memes_by_id as $meme): ?> <div class="meme-card">
							<div class="meme-image">
								<img src="<?= htmlspecialchars(
								$meme["media_url"]
							) ?>" alt="Image du meme"><br>
							</div>
							<div class="meme-info-id">
								<h4><?= htmlspecialchars($meme["title"]) ?><br></h4> ID : <?= htmlspecialchars($meme["meme_id"]) ?><br> <?= htmlspecialchars($meme["content"]) ?><br> POSTED BY : <?= htmlspecialchars($meme["user_id"]) ?> <div class="meme-stats-id">
									<span>‚ù§Ô∏è <?= htmlspecialchars($meme["like_count"]) ?></span>
									<span>üí¨ <?= htmlspecialchars($meme["comment_count"]) ?></span>
								</div>
							</div>
						</div> <?php endforeach; ?> </ul>
				</section> <?php else: ?> <p>Aucun meme trouv√© pour cet ID.</p> <?php endif; ?> </div>
			<div class="result-tag"> <?php if (!empty($memes_by_tags)): ?> <h2>üìÑ R√©sultats pour les tags : <?= htmlspecialchars(
				implode(" | ", $tags)
			) ?></h2>
				<br>
				<section class="meme-grid-aby"> <?php foreach ($memes_by_tags as $meme): ?> <div class="meme-card">
						<div class="meme-image">
							<img src="<?= htmlspecialchars(
								$meme["media_url"]
							) ?>" alt="Image du meme"><br>
						</div>
						<div class="meme-info">
							<h4><?= htmlspecialchars($meme["title"]) ?><br></h4> ID : <?= htmlspecialchars($meme["meme_id"]) ?><br> POSTED BY : <?= htmlspecialchars(
							$meme["user_id"]
						) ?><br> <?= htmlspecialchars($meme["content"]) ?> <div class="meme-stats">
								<span>‚ù§Ô∏è <?= htmlspecialchars($meme["like_count"]) ?></span>
								<span>üí¨ <?= htmlspecialchars($meme["comment_count"]) ?></span>
							</div>
						</div>
					</div> <?php endforeach; ?>
			</div>
			</section> <?php else: ?> <p>Aucun meme trouv√© pour ces tags.</p> <?php endif; ?> <?php endif; ?>
		</div>
		</div>
	</main>
</body>

</html>